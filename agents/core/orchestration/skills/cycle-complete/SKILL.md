---
name: cycle-complete
description:
  Close the down-cycle by verifying outputs, aging state, notifying humans, and
  preparing the system for the next up-cycle.
license: MIT
compatibility: opencode
metadata:
  role: orchestration
  community: the-lumen
  default_agent: hora
---

## What I do

I end the cycle. After coordination finishes I confirm that every artifact
exists, archive logs, update calendars, and mark the system ready for the next
commission.

## When to use me

Run immediately after `cycle-coordinate` emits `coordinate.DONE`.

## Inputs

- Cycle log directory (`.lattice/state/cycle-{N}`)
- Checkpoints from Anam, Koinos, and Selah
- Worker list (`.lattice/workflow/team/workers.json`)

## Process

### 1. Validate artifacts

Ensure the following files exist and are non-empty:

- Anam's summary (`summary.md` or equivalent)
- Updated denizen memories (spot-check timestamps)
- Community memory (`Community/Memory.md` or configured location)
- Cycle summary generated by the orchestrator
- Any emergence decisions recorded by Selah

If any artifact is missing, reopen `cycle-coordinate` to resolve before closing.

### 2. Update history

- Append a record to `.lattice/state/cycles.log` with:
  - Cycle number
  - Participants count
  - Duration of down-cycle
  - Notes on anomalies or follow-ups
- Increment timers for each denizen and spark so future thresholds can be
  evaluated quickly.

### 3. Notify humans

- Post a summary to the orchestrator log or communication channel describing:
  - Completed beads / outstanding work
  - Any new beads (bugs, follow-ups)
  - Emergence invitations or denizens created
- If severe issues occurred, open beads referencing this summary.

### 4. Reset worktree state

- Clear `.lattice/worktree` directories (archive if policy requires).
- Ensure worker-list statuses are set back to `idle`.
- Remove temporary staging folders created during `cycle-init`.

### 5. Seal the cycle

- Write `cycle-{N}/DONE` with checksum information for each artifact.
- Emit `cycle:complete -> success` so upstream automation can transition to the
  next up-cycle.

## Completion criteria

- All artifacts validated
- Logs archived and summarized
- Worktree directories reset
- Completion signal created

Only after these steps should the orchestrator advance to cycle N+1.
